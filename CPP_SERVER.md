# MPC é’±åŒ… C++ æœåŠ¡å™¨

## æ¦‚è¿°

æœ¬é¡¹ç›®ç°åœ¨åŒ…å«äº†ä¸€ä¸ª **C++ ç‰ˆæœ¬çš„æœåŠ¡å™¨å®ç°**ï¼Œä½äº `cpp_server/` ç›®å½•ä¸‹ã€‚C++ ç‰ˆæœ¬æä¾›ä¸ Node.js ç‰ˆæœ¬å®Œå…¨ç›¸åŒçš„ API æ¥å£ï¼Œå…·æœ‰æ›´é«˜çš„æ€§èƒ½å’Œæ›´ä½çš„èµ„æºå ç”¨ã€‚

## ä¸¤ä¸ªç‰ˆæœ¬å¯¹æ¯”

| ç‰¹æ€§ | Node.js ç‰ˆæœ¬ | C++ ç‰ˆæœ¬ |
|------|-------------|---------|
| **ä½ç½®** | `server/` | `cpp_server/` |
| **è¯­è¨€** | JavaScript | C++ |
| **å¯åŠ¨æ—¶é—´** | ~2ç§’ | ~0.1ç§’ |
| **å†…å­˜å ç”¨** | ~50MB | ~5MB |
| **å“åº”æ—¶é—´** | ~10ms | ~1ms |
| **APIå…¼å®¹æ€§** | âœ… å®Œæ•´ | âœ… å®Œæ•´ |
| **éƒ¨ç½²å¤æ‚åº¦** | ç®€å• | ä¸­ç­‰ |

## å¿«é€Ÿä½¿ç”¨ C++ ç‰ˆæœ¬

### 1. è¿›å…¥ C++ æœåŠ¡å™¨ç›®å½•
```bash
cd cpp_server
```

### 2. ç¼–è¯‘å¹¶è¿è¡Œ
```bash
# æ–¹å¼ä¸€ï¼šä½¿ç”¨ make
make && make run

# æ–¹å¼äºŒï¼šä½¿ç”¨å¯åŠ¨è„šæœ¬
./start.sh

# æ–¹å¼ä¸‰ï¼šç›´æ¥ç¼–è¯‘è¿è¡Œ
make
./mpc_wallet_server
```

### 3. æµ‹è¯• API
è¿è¡Œåï¼Œåœ¨äº¤äº’å¼ç•Œé¢ä¸­è¾“å…¥ï¼š
```bash
# æŸ¥çœ‹æ‰€æœ‰API
list

# æµ‹è¯•å¥åº·æ£€æŸ¥
test GET /health

# æµ‹è¯•åˆ›å»ºé’±åŒ…
test POST /api/wallet/create

# æµ‹è¯•è·å–ç½‘ç»œä¿¡æ¯
test GET /api/blockchain/network-info

# é€€å‡º
quit
```

## API æ¥å£å…¼å®¹æ€§

C++ ç‰ˆæœ¬å®ç°äº†ä¸ Node.js ç‰ˆæœ¬**å®Œå…¨ç›¸åŒ**çš„ API æ¥å£ï¼š

### ğŸ¥ å¥åº·æ£€æŸ¥
- `GET /health`
- `GET /`

### ğŸ’° é’±åŒ…ç®¡ç†
- `POST /api/wallet/create`
- `POST /api/wallet/import`
- `GET /api/wallet/list`
- `GET /api/wallet/balance`
- `DELETE /api/wallet/delete`

### ğŸ’¸ äº¤æ˜“ç®¡ç†
- `POST /api/transaction/create`
- `POST /api/transaction/estimate-gas`
- `GET /api/transaction/gas-price`
- `POST /api/transaction/broadcast`
- `GET /api/transaction/status`
- `GET /api/transaction/history`

### ğŸ” MPC å¤šæ–¹è®¡ç®—
- `POST /api/mpc/keygen/start`
- `POST /api/mpc/keygen/join`
- `POST /api/mpc/sign/start`
- `GET /api/mpc/session/status`
- `GET /api/mpc/sessions`
- `POST /api/mpc/session/data`

### â›“ï¸ åŒºå—é“¾äº¤äº’
- `GET /api/blockchain/network-info`
- `GET /api/blockchain/latest-block`
- `GET /api/blockchain/balance`
- `GET /api/blockchain/nonce`
- `POST /api/blockchain/validate-address`
- `GET /api/blockchain/token-balance`
- `GET /api/blockchain/token-info`
- `GET /api/blockchain/search`

## é€‰æ‹©ä½¿ç”¨å“ªä¸ªç‰ˆæœ¬

### ä½¿ç”¨ Node.js ç‰ˆæœ¬ï¼Œå¦‚æœï¼š
- éœ€è¦å¿«é€ŸåŸå‹å¼€å‘
- å›¢é˜Ÿæ›´ç†Ÿæ‚‰ JavaScript/Node.js
- éœ€è¦é›†æˆæ›´å¤šçš„ npm åŒ…
- å¯¹æ€§èƒ½è¦æ±‚ä¸é«˜

### ä½¿ç”¨ C++ ç‰ˆæœ¬ï¼Œå¦‚æœï¼š
- éœ€è¦é«˜æ€§èƒ½å’Œä½å»¶è¿Ÿ
- å†…å­˜èµ„æºæœ‰é™
- éƒ¨ç½²åœ¨èµ„æºå—é™çš„ç¯å¢ƒ
- éœ€è¦ä¸å…¶ä»– C++ ç»„ä»¶é›†æˆ

## é¡¹ç›®ç»“æ„

```
MPCWallet/
â”œâ”€â”€ server/                 # Node.js ç‰ˆæœ¬æœåŠ¡å™¨
â”‚   â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ package.json
â”‚   â””â”€â”€ index.js
â”œâ”€â”€ cpp_server/             # C++ ç‰ˆæœ¬æœåŠ¡å™¨ (æ–°å¢)
â”‚   â”œâ”€â”€ mpc_server.cpp      # ä¸»æœåŠ¡å™¨å®ç°
â”‚   â”œâ”€â”€ Makefile            # æ„å»ºé…ç½®
â”‚   â”œâ”€â”€ start.sh            # å¯åŠ¨è„šæœ¬
â”‚   â””â”€â”€ README.md           # è¯¦ç»†æ–‡æ¡£
â”œâ”€â”€ client/                 # React å‰ç«¯
â”œâ”€â”€ package.json            # é¡¹ç›®é…ç½®
â””â”€â”€ README.md               # é¡¹ç›®ä¸»æ–‡æ¡£
```

## ç¯å¢ƒå˜é‡

C++ ç‰ˆæœ¬æ”¯æŒä¸ Node.js ç‰ˆæœ¬ç›¸åŒçš„ç¯å¢ƒå˜é‡ï¼š

```bash
# è®¾ç½®ç«¯å£ (é»˜è®¤: 8080)
export PORT=3001

# è¿è¡ŒæœåŠ¡å™¨
cd cpp_server && ./start.sh
```

## å¼€å‘å’Œéƒ¨ç½²

### å¼€å‘ç¯å¢ƒ
- æ¨èä½¿ç”¨ Node.js ç‰ˆæœ¬è¿›è¡Œå¿«é€Ÿå¼€å‘å’Œè°ƒè¯•
- C++ ç‰ˆæœ¬é€‚åˆæ€§èƒ½æµ‹è¯•å’Œæœ€ç»ˆéƒ¨ç½²

### ç”Ÿäº§ç¯å¢ƒ
- C++ ç‰ˆæœ¬æä¾›æ›´å¥½çš„æ€§èƒ½å’Œèµ„æºåˆ©ç”¨ç‡
- å¯ä»¥æ ¹æ®è´Ÿè½½éœ€æ±‚é€‰æ‹©åˆé€‚çš„ç‰ˆæœ¬

## æ³¨æ„äº‹é¡¹

1. **API å…¼å®¹æ€§**: ä¸¤ä¸ªç‰ˆæœ¬çš„ API å®Œå…¨å…¼å®¹ï¼Œå‰ç«¯ä»£ç æ— éœ€ä¿®æ”¹
2. **æ•°æ®æ ¼å¼**: å“åº”æ•°æ®æ ¼å¼å®Œå…¨ä¸€è‡´
3. **é”™è¯¯å¤„ç†**: é”™è¯¯å“åº”æ ¼å¼ä¿æŒç»Ÿä¸€
4. **åŠŸèƒ½å®ç°**: å½“å‰ C++ ç‰ˆæœ¬æ˜¯æ¨¡æ‹Ÿå®ç°ï¼Œè¿”å›ç¤ºä¾‹æ•°æ®

## åç»­æ‰©å±•

C++ ç‰ˆæœ¬ä¸ºæœªæ¥çš„é«˜æ€§èƒ½éœ€æ±‚æä¾›äº†åŸºç¡€ï¼Œå¯ä»¥æ‰©å±•ï¼š

1. **çœŸå® HTTP æœåŠ¡å™¨**: é›†æˆ HTTP åº“ (å¦‚ cpp-httplib, Beast)
2. **æ•°æ®åº“é›†æˆ**: æ·»åŠ æ•°æ®æŒä¹…åŒ–
3. **çœŸå®åŒºå—é“¾**: é›†æˆä»¥å¤ªåŠ C++ SDK
4. **MPC åè®®**: å®ç°çœŸå®çš„å¤šæ–¹è®¡ç®—åè®®
5. **å¹¶å‘ä¼˜åŒ–**: æ·»åŠ çº¿ç¨‹æ± å’Œå¼‚æ­¥å¤„ç†

## æ€»ç»“

ç°åœ¨æ‚¨æœ‰äº†ä¸¤ä¸ªåŠŸèƒ½å®Œå…¨ç›¸åŒçš„æœåŠ¡å™¨å®ç°ï¼š
- **Node.js ç‰ˆæœ¬**: é€‚åˆå¿«é€Ÿå¼€å‘å’ŒåŸå‹éªŒè¯
- **C++ ç‰ˆæœ¬**: é€‚åˆé«˜æ€§èƒ½ç”Ÿäº§ç¯å¢ƒ

æ ¹æ®æ‚¨çš„å…·ä½“éœ€æ±‚é€‰æ‹©åˆé€‚çš„ç‰ˆæœ¬å³å¯ï¼ 